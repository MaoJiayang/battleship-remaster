/* =========================================
           集成美术资源 (From 美术.html)
           ========================================= */
        .ship-visuals-root {
            /* 局部变量作用域 */
            --color-sea: #1a2b3c;
            --color-steel-light: #cfd8dc;
            --color-steel-mid: #90a4ae;
            --color-steel-dark: #546e7a;
            --color-barrel: #263238;
            --deck-wood-bb: #8d6e63;
            --deck-flight: #455a64;
            --deck-dd: #607d8b;
            --hull-ss: #212121;
        }

        /* 通用组件：炮塔系统 */
        .turret-base {
            position: absolute;
            top: 50%; transform: translateY(-50%);
            z-index: 10;
            display: flex; align-items: center; justify-content: center;
        }

        /* A. 战列舰三联装重炮 */
        .turret-bb {
            width: 22px; height: 20px;
            background: linear-gradient(to bottom, #eceff1, #90a4ae);
            border-radius: 50% 4px 4px 50%;
            box-shadow: 0 2px 3px rgba(0,0,0,0.4);
        }
        .turret-bb::before {
            content: ''; position: absolute;
            top: 50%; transform: translateY(-50%);
            width: 24px; height: 3px;
            background: var(--color-barrel);
            box-shadow: 0 -5px 0 var(--color-barrel), 0 5px 0 var(--color-barrel);
            border-radius: 0 2px 2px 0;
        }
        .turret-bb::after {
            content: ''; position: absolute;
            top: 3px; bottom: 3px; width: 4px; background: #fff;
        }

        /* B. 巡洋舰双联装炮 */
        .turret-cl {
            width: 16px; height: 14px;
            background: #b0bec5;
            border-radius: 4px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }
        .turret-cl::before {
            content: ''; position: absolute;
            top: 4px; width: 14px; height: 2px;
            background: var(--color-barrel);
            box-shadow: 0 4px 0 var(--color-barrel);
        }

        /* C. 驱逐舰单装炮 */
        .turret-dd {
            width: 12px; height: 12px;
            background: #cfd8dc;
            border: 1px solid #78909c;
            border-radius: 50%;
        }
        .turret-dd::before {
            content: ''; position: absolute;
            top: 5px; width: 10px; height: 2px;
            background: var(--color-barrel);
        }

        /* 炮塔朝向与炮管修正 */
        /* 默认炮管位置 (相对于炮塔坐标系向左伸出) */
        .turret-bb::before { left: -20px; }
        .turret-cl::before { left: -10px; }
        .turret-dd::before { left: -8px; }
        .turret-bb::after { left: 0; }

        /* 朝向控制 */
        .facing-left .turret-bb, .facing-left .turret-cl, .facing-left .turret-dd { transform: rotate(0deg); } 
        .facing-right .turret-bb, .facing-right .turret-cl, .facing-right .turret-dd { transform: rotate(180deg); }

        /* 3. BB: 战列舰 */
        .hull-bb {
            width: 240px; height: 46px;
            background: repeating-linear-gradient(90deg, #795548 0px, #795548 4px, #5d4037 5px);
            border-radius: 50% 15% 15% 50%;
            position: relative;
            overflow: hidden;
            box-shadow: inset 0 0 0 3px var(--color-steel-mid);
        }
        .bb-bridge-complex {
            position: absolute;
            left: 85px; top: 4px; bottom: 4px; width: 60px;
            background: rgba(0,0,0,0.2);
            border-radius: 4px;
            z-index: 5;
        }
        .bb-tower {
            position: absolute; left: 0; top: -2px; bottom: -2px; width: 25px;
            background: var(--color-steel-light);
            border: 1px solid var(--color-steel-dark);
            border-radius: 4px;
            box-shadow: 2px 2px 4px rgba(0,0,0,0.4);
        }
        .bb-funnel {
            position: absolute; right: 5px; top: 8px; bottom: 8px; width: 18px;
            background: repeating-linear-gradient(to bottom, #37474f, #37474f 4px, #263238 5px);
            border-radius: 6px;
            border: 1px solid #fff;
        }
        .bb-stern-equipment {
            position: absolute; right: 10px; top: 0; bottom: 0; width: 40px; z-index: 1;
        }
        .bb-catapult-rail {
            position: absolute; top: 10px; bottom: 10px; left: 0; width: 20px;
            border-top: 2px solid #5d4037; border-bottom: 2px solid #5d4037; opacity: 0.7;
        }
        .bb-crane {
            position: absolute; right: 5px; bottom: 12px; width: 25px; height: 4px;
            background: var(--color-steel-dark); transform: rotate(-45deg); border-radius: 2px;
            box-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        .bb-floatplane {
            position: absolute; left: 5px; top: 50%; transform: translateY(-50%);
            width: 12px; height: 10px; background: #4caf50;
            clip-path: polygon(50% 0, 100% 50%, 50% 100%, 0 50%);
        }

        /* 4. CV: 航空母舰 */
        .hull-cv {
            width: 240px; height: 50px;
            background: var(--deck-flight);
            border-radius: 4px;
            position: relative;
            /* 跑道中线：水平虚线，居中，不重复铺满 */
            background-image: 
                linear-gradient(90deg, transparent 20%, rgba(255,255,255,0.9) 20%, rgba(255,255,255,0.9) 80%, transparent 80%),
                linear-gradient(to bottom, transparent 5%, rgba(255,255,255,0.1) 5%, rgba(255,255,255,0.1) 95%, transparent 95%);
            background-size: 30px 3px, 100% 100%;
            background-repeat: repeat-x, no-repeat;
            background-position: center, center;
        }
        .cv-island {
            position: absolute; right: 55px; top: -6px; width: 45px; height: 14px;
            background: var(--color-steel-dark); border-radius: 2px; z-index: 20;
            box-shadow: 3px 3px 5px rgba(0,0,0,0.5); border-right: 6px solid #263238;
        }
        .cv-elevator {
            position: absolute; left: 60px; top: 6px; width: 35px; height: 38px;
            border: 1px dashed rgba(255,255,255,0.4); background: rgba(0,0,0,0.2);
        }
        .cv-sponson {
            position: absolute; left: 10px; bottom: -4px; width: 40px; height: 6px;
            background: var(--color-steel-mid); border-radius: 0 0 4px 4px;
        }
        .cv-arrow {
            position: absolute; left: 5px; top: 50%; transform: translateY(-50%);
            width: 0; height: 0;
            border-top: 6px solid transparent; border-bottom: 6px solid transparent;
            border-right: 10px solid #fff;
        }

        /* 5. CL: 轻巡洋舰 */
        .hull-cl {
            width: 170px; height: 32px;
            background: var(--color-steel-mid);
            background-image: repeating-linear-gradient(90deg, transparent, transparent 19px, rgba(0,0,0,0.1) 20px);
            border-radius: 50% 10% 10% 50%;
            position: relative;
            box-shadow: inset 0 0 0 2px var(--color-steel-dark);
        }
        .cl-bridge-area { position: absolute; left: 50px; right: 40px; top: 0; bottom: 0; }
        .cl-block { position: absolute; left: 0; top: 2px; bottom: 2px; width: 15px; background: var(--color-steel-dark); border-radius: 2px; }
        .cl-funnel { position: absolute; width: 8px; height: 18px; background: #37474f; border-radius: 4px; top: 7px; }

        /* 6. DD: 驱逐舰 */
        .hull-dd {
            width: 120px; height: 22px;
            background: var(--deck-dd);
            border-radius: 100px 3px 3px 100px;
            position: relative;
            display: flex; align-items: center;
        }
        .dd-mid { position: absolute; left: 35px; right: 30px; height: 100%; }
        .dd-structure { position: absolute; top: 6px; width: 8px; height: 10px; background: #546e7a; border-radius: 2px; }
        .dd-torpedo { position: absolute; top: 5px; width: 12px; height: 12px; background: linear-gradient(90deg, #455a64, #263238); border-radius: 2px; }

        /* 7. SS: 潜艇 */
        .hull-ss {
            width: 60px; height: 14px;
            background: var(--hull-ss);
            border-radius: 10px;
            position: relative;
            box-shadow: inset 0 2px 4px rgba(255,255,255,0.1);
        }
        .ss-tower {
            position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%);
            width: 8px; height: 22px; background: #333; border-radius: 2px; border-top: 1px solid #666;
        }
        .ss-periscope { position: absolute; right: -2px; top: 0; width: 2px; height: 6px; background: #999; }

        /* 适配游戏内的缩放与定位 */
        .ship-inner {
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: visible; /* 允许阴影等溢出 */
        }
        
        /* 统一缩放容器，保持中心对齐 */
        .hull-scale-wrapper {
            transform-origin: center center;
            /* 缩放比例由 JS 动态计算 */
        }
    