<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>WWII Warships CSS - Final Optimized</title>
<style>
    /* =========================================
       1. 全局配置与变量 (Global Config)
       ========================================= */
    :root {
        /* 尺寸基准：稍微放大以展示细节 */
        --cell: 55px; 
        
        /* 调色板：二战海军风格 */
        --color-sea: #1a2b3c;         /* 深海蓝 */
        --color-steel-light: #cfd8dc; /* 亮部钢板 */
        --color-steel-mid: #90a4ae;   /* 船体主色 */
        --color-steel-dark: #546e7a;  /* 上层建筑/阴影 */
        --color-barrel: #263238;      /* 炮管黑 */
        
        /* 特殊材质 */
        --deck-wood-bb: #8d6e63;      /* 战列舰柚木 */
        --deck-flight: #455a64;       /* 航母飞行甲板 */
        --deck-dd: #607d8b;           /* 驱逐舰防滑漆 */
        --hull-ss: #212121;           /* 潜艇消声瓦黑 */
    }

    body {
        background-color: var(--color-sea);
        font-family: 'Segoe UI', sans-serif;
        display: flex;
        flex-direction: column;
        gap: 50px;
        padding: 50px;
        align-items: flex-start;
    }

    .ship-wrapper {
        position: relative;
        filter: drop-shadow(6px 6px 8px rgba(0,0,0,0.6)); /* 整体海面投影 */
    }

    .label {
        position: absolute;
        left: -100px; top: 50%; transform: translateY(-50%);
        width: 90px; text-align: right;
        color: #b0bec5; font-size: 12px; font-weight: bold;
    }

    /* =========================================
       2. 通用组件：炮塔系统 (Turret System)
       ========================================= */
    .turret-base {
        position: absolute;
        top: 50%; transform: translateY(-50%);
        z-index: 10;
        display: flex; align-items: center; justify-content: center;
    }

    /* A. 战列舰三联装重炮 (BB Main Gun) */
    .turret-bb {
        width: 22px; height: 20px;
        background: linear-gradient(to bottom, #eceff1, #90a4ae);
        border-radius: 50% 4px 4px 50%; /* 炮盾圆弧，后部方正 */
        box-shadow: 0 2px 3px rgba(0,0,0,0.4);
    }
    .turret-bb::before { /* 三根炮管 */
        content: ''; position: absolute;
        top: 50%; transform: translateY(-50%);
        width: 24px; height: 3px;
        background: var(--color-barrel);
        /* 利用 shadow 复制上下两根 */
        box-shadow: 0 -5px 0 var(--color-barrel), 0 5px 0 var(--color-barrel);
        border-radius: 0 2px 2px 0;
    }
    .turret-bb::after { /* 炮管根部防水布 */
        content: ''; position: absolute;
        top: 3px; bottom: 3px; width: 4px; background: #fff;
    }

    /* B. 巡洋舰双联装炮 (CL Dual Gun) */
    .turret-cl {
        width: 16px; height: 14px;
        background: #b0bec5;
        border-radius: 4px;
        box-shadow: 0 1px 2px rgba(0,0,0,0.3);
    }
    .turret-cl::before { /* 双管 */
        content: ''; position: absolute;
        top: 4px; width: 14px; height: 2px;
        background: var(--color-barrel);
        box-shadow: 0 4px 0 var(--color-barrel);
    }

    /* C. 驱逐舰单装炮 (DD Single Gun) */
    .turret-dd {
        width: 12px; height: 12px;
        background: #cfd8dc;
        border: 1px solid #78909c;
        border-radius: 50%; /* 炮座 */
    }
    .turret-dd::before { /* 单管 */
        content: ''; position: absolute;
        top: 5px; width: 10px; height: 2px;
        background: var(--color-barrel);
    }

    /* --- 炮塔朝向控制 Logic --- */
    /* 向左 (舰首方向) */
    .facing-left .turret-bb, .facing-left .turret-cl, .facing-left .turret-dd { transform: rotate(0deg); } 
    .facing-left .turret-bb::before { left: -20px; } /* 炮管向左伸出 */
    .facing-left .turret-cl::before { left: -10px; }
    .facing-left .turret-dd::before { left: -8px; }
    .facing-left .turret-bb::after { left: 0; }

    /* 向右 (舰尾方向) */
    .facing-right .turret-bb, .facing-right .turret-cl, .facing-right .turret-dd { transform: rotate(180deg); }
    /* 旋转后，炮管依然相对于炮塔本体定位，无需修改 left/right，只需旋转容器即可 */


    /* =========================================
       3. BB: 战列舰 (Battleship)
       特点：柚木甲板、巨炮、舰尾起重机
       ========================================= */
    .hull-bb {
        width: 240px; height: 46px;
        /* 柚木纹理 */
        background: repeating-linear-gradient(90deg, #795548 0px, #795548 4px, #5d4037 5px);
        border-radius: 50% 15% 15% 50%;
        position: relative;
        overflow: hidden;
        box-shadow: inset 0 0 0 3px var(--color-steel-mid); /* 钢制船舷 */
    }
    
    /* 上层建筑 (舰桥+烟囱) */
    .bb-bridge-complex {
        position: absolute;
        left: 85px; top: 4px; bottom: 4px; width: 60px;
        background: rgba(0,0,0,0.2); /* 地基阴影 */
        border-radius: 4px;
        z-index: 5;
    }
    .bb-tower { /* 塔楼 */
        position: absolute; left: 0; top: -2px; bottom: -2px; width: 25px;
        background: var(--color-steel-light);
        border: 1px solid var(--color-steel-dark);
        border-radius: 4px;
        box-shadow: 2px 2px 4px rgba(0,0,0,0.4);
    }
    .bb-funnel { /* 烟囱 */
        position: absolute; right: 5px; top: 8px; bottom: 8px; width: 18px;
        background: repeating-linear-gradient(to bottom, #37474f, #37474f 4px, #263238 5px);
        border-radius: 6px;
        border: 1px solid #fff;
    }

    /* === 舰尾细节优化 (Catapult & Crane) === */
    .bb-stern-equipment {
        position: absolute;
        right: 10px; top: 0; bottom: 0; width: 40px;
        z-index: 1;
    }
    /* 弹射导轨 */
    .bb-catapult-rail {
        position: absolute; top: 10px; bottom: 10px; left: 0; width: 20px;
        border-top: 2px solid #5d4037;
        border-bottom: 2px solid #5d4037;
        opacity: 0.7;
    }
    /* 起重机吊臂 */
    .bb-crane {
        position: absolute; right: 5px; bottom: 12px;
        width: 25px; height: 4px;
        background: var(--color-steel-dark);
        transform: rotate(-45deg); /* 斜向放置 */
        border-radius: 2px;
        box-shadow: 1px 1px 2px rgba(0,0,0,0.5);
    }
    /* 飞机（简化示意） */
    .bb-floatplane {
        position: absolute; left: 5px; top: 50%; transform: translateY(-50%);
        width: 12px; height: 10px;
        background: #4caf50; /* 绿色涂装 */
        clip-path: polygon(50% 0, 100% 50%, 50% 100%, 0 50%);
    }


    /* =========================================
       4. CV: 航空母舰 (Carrier)
       特点：跑道、侧舷、舰岛
       ========================================= */
    .hull-cv {
        width: 240px; height: 50px;
        background: var(--deck-flight);
        border-radius: 4px;
        position: relative;
        /* 跑道标线 */
        background-image: 
            linear-gradient(90deg, transparent 50%, #fff 50%, #fff 60%, transparent 60%), /* 中线 */
            linear-gradient(to bottom, transparent 5%, rgba(255,255,255,0.1) 5%, rgba(255,255,255,0.1) 95%, transparent 95%);
        background-size: 40px 2px, 100% 100%;
    }

    .cv-island {
        position: absolute; right: 55px; top: -6px;
        width: 45px; height: 14px;
        background: var(--color-steel-dark);
        border-radius: 2px;
        z-index: 20;
        box-shadow: 3px 3px 5px rgba(0,0,0,0.5);
        border-right: 6px solid #263238; /* 雷达黑边 */
    }
    
    .cv-elevator {
        position: absolute; left: 60px; top: 6px;
        width: 35px; height: 38px;
        border: 1px dashed rgba(255,255,255,0.4);
        background: rgba(0,0,0,0.2);
    }
    
    /* 舰尾防空炮座 */
    .cv-sponson {
        position: absolute; left: 10px; bottom: -4px;
        width: 40px; height: 6px;
        background: var(--color-steel-mid);
        border-radius: 0 0 4px 4px;
    }
    
    .cv-arrow {
        position: absolute; left: 5px; top: 50%; transform: translateY(-50%);
        width: 0; height: 0;
        border-top: 6px solid transparent; border-bottom: 6px solid transparent;
        border-right: 10px solid #fff;
    }


    /* =========================================
       5. CL: 轻巡洋舰 (Cruiser)
       特点：前2后2，双烟囱
       ========================================= */
    .hull-cl {
        width: 170px; height: 32px;
        background: var(--color-steel-mid);
        /* 钢板接缝 */
        background-image: repeating-linear-gradient(90deg, transparent, transparent 19px, rgba(0,0,0,0.1) 20px);
        border-radius: 50% 10% 10% 50%;
        position: relative;
        box-shadow: inset 0 0 0 2px var(--color-steel-dark);
    }
    
    .cl-bridge-area {
        position: absolute; left: 50px; right: 40px; top: 0; bottom: 0;
    }
    .cl-block { /* 舰桥块 */
        position: absolute; left: 0; top: 2px; bottom: 2px; width: 15px;
        background: var(--color-steel-dark); border-radius: 2px;
    }
    .cl-funnel { /* 烟囱 */
        position: absolute; width: 8px; height: 18px;
        background: #37474f; border-radius: 4px; top: 7px;
    }


    /* =========================================
       6. DD: 驱逐舰 (Destroyer)
       特点：细长、鱼雷
       ========================================= */
    .hull-dd {
        width: 120px; height: 22px;
        background: var(--deck-dd);
        border-radius: 100px 3px 3px 100px; /* 刀锋首 */
        position: relative;
        display: flex; align-items: center;
    }
    
    .dd-mid {
        position: absolute; left: 35px; right: 30px; height: 100%;
    }
    .dd-structure { /* 烟囱 */
        position: absolute; top: 6px; width: 8px; height: 10px;
        background: #546e7a; border-radius: 2px;
    }
    .dd-torpedo { /* 五联装鱼雷 */
        position: absolute; top: 5px; width: 12px; height: 12px;
        background: linear-gradient(90deg, #455a64, #263238);
        border-radius: 2px;
    }


    /* =========================================
       7. SS: 潜艇 (Submarine)
       特点：黑、简练
       ========================================= */
    .hull-ss {
        width: 60px; height: 14px;
        background: var(--hull-ss);
        border-radius: 10px;
        position: relative;
        box-shadow: inset 0 2px 4px rgba(255,255,255,0.1);
    }
    .ss-tower {
        position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%);
        width: 8px; height: 22px; /* 突出船体 */
        background: #333; border-radius: 2px;
        border-top: 1px solid #666;
    }
    .ss-periscope {
        position: absolute; right: -2px; top: 0; width: 2px; height: 6px; background: #999;
    }

</style>
</head>
<body>

    <!-- 1. BB 战列舰 -->
    <div class="ship-wrapper">
        <div class="label">BB 战列舰<br>(Yamato Style)</div>
        <div class="hull-bb">
            <!-- 前部主炮群 (向左) -->
            <div class="turret-base facing-left" style="left: 25px;">
                <div class="turret-bb"></div>
            </div>
            <div class="turret-base facing-left" style="left: 52px; z-index: 11;"> <!-- 背负式 -->
                <div class="turret-bb"></div>
            </div>

            <!-- 中部上层建筑 -->
            <div class="bb-bridge-complex">
                <div class="bb-tower"></div>
                <div class="bb-funnel"></div>
            </div>

            <!-- 后部主炮 (向右) -->
            <div class="turret-base facing-right" style="right: 60px; z-index: 11;">
                <div class="turret-bb"></div>
            </div>

            <!-- 舰尾细节优化：起重机与水上飞机区 -->
            <div class="bb-stern-equipment">
                <div class="bb-catapult-rail"></div>
                <div class="bb-floatplane"></div>
                <div class="bb-crane"></div>
            </div>
        </div>
    </div>

    <!-- 2. CV 航空母舰 -->
    <div class="ship-wrapper">
        <div class="label">CV 航空母舰<br>(Essex Style)</div>
        <div class="hull-cv">
            <div class="cv-arrow"></div>
            <div class="cv-elevator"></div>
            <div class="cv-island"></div>
            <div class="cv-sponson"></div>
        </div>
    </div>

    <!-- 3. CL 轻巡洋舰 -->
    <div class="ship-wrapper">
        <div class="label">CL 轻巡洋舰<br>(Cleveland Style)</div>
        <div class="hull-cl">
            <!-- 前部双炮塔 (向左) -->
            <div class="turret-base facing-left" style="left: 15px;">
                <div class="turret-cl"></div>
            </div>
            <div class="turret-base facing-left" style="left: 35px; z-index:11">
                <div class="turret-cl"></div>
            </div>

            <!-- 中部双烟囱结构 -->
            <div class="cl-bridge-area">
                <div class="cl-block"></div>
                <div class="cl-funnel" style="left: 25px;"></div>
                <div class="cl-funnel" style="left: 45px;"></div>
            </div>

            <!-- 后部双炮塔 (向右) -->
            <div class="turret-base facing-right" style="right: 35px; z-index:11">
                <div class="turret-cl"></div>
            </div>
            <div class="turret-base facing-right" style="right: 15px;">
                <div class="turret-cl"></div>
            </div>
        </div>
    </div>

    <!-- 4. DD 驱逐舰 -->
    <div class="ship-wrapper">
        <div class="label">DD 驱逐舰<br>(Fletcher Style)</div>
        <div class="hull-dd">
            <!-- 舰首炮 (向左) -->
            <div class="turret-base facing-left" style="left: 10px;">
                <div class="turret-dd"></div>
            </div>
            <div class="turret-base facing-left" style="left: 24px; z-index:11">
                <div class="turret-dd"></div>
            </div>

            <!-- 中部：烟囱-鱼雷-烟囱-鱼雷 -->
            <div class="dd-mid">
                <div class="dd-structure" style="left: 0px;"></div>
                <div class="dd-torpedo" style="left: 12px;"></div>
                <div class="dd-structure" style="left: 28px;"></div>
                <div class="dd-torpedo" style="left: 40px;"></div>
            </div>

            <!-- 舰尾炮 (向右) -->
            <div class="turret-base facing-right" style="right: 10px;">
                <div class="turret-dd"></div>
            </div>
        </div>
    </div>

    <!-- 5. SS 潜艇 -->
    <div class="ship-wrapper">
        <div class="label">SS 潜艇<br>(U-Boat Style)</div>
        <div class="hull-ss">
            <div class="ss-tower">
                <div class="ss-periscope"></div>
            </div>
        </div>
    </div>

</body>
</html>